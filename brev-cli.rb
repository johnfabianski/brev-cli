# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class BrevCli < Formula
  desc ""
  homepage "https://docs.brev.dev"
  version "0.6.12"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/brevdev/brev-cli/releases/download/v0.6.12/brev-cli_0.6.12_darwin_amd64.tar.gz"
      sha256 "a0e7981f5448af1f9584455bd47f8f6ed3b8d56532fe3d34a7ef1c36ac503613"
    end
    if Hardware::CPU.arm?
      url "https://github.com/brevdev/brev-cli/releases/download/v0.6.12/brev-cli_0.6.12_darwin_arm64.tar.gz"
      sha256 "1d8a9895729075cd874945baa12bc5755225fe2c5954354144273489abf03015"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/brevdev/brev-cli/releases/download/v0.6.12/brev-cli_0.6.12_linux_amd64.tar.gz"
      sha256 "b360fa31c6558f54018311ddd1ca205dd52fa0b88b7a74a711b926c8cc9911e5"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/brevdev/brev-cli/releases/download/v0.6.12/brev-cli_0.6.12_linux_arm64.tar.gz"
      sha256 "3c1caee04f1c1f2d2ac2b9bea93dced061f0bd685efe8017b168d4c1e5bfb7da"
    end
  end

  def install
    bin.install "brev"
  end

  plist_options :startup => false

  def plist; <<~EOS
    <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>dev.brev</string>
    <key>ProgramArguments</key>
    <array>
      <string>brev</string>
      <string>run-tasks</string>
    </array>
    <key>KeepAlive</key>
    <true/>
</dict>
</plist>

  EOS
  end

  test do
    system "#{bin}/brev --version"
  end
end
